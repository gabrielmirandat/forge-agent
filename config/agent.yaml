# Agent Configuration
# This file controls the behavior of the autonomous code agent

agent:
  name: "forge-agent"
  version: "0.1.0"
  
  # Workspace configuration
  workspace:
    base_path: "~/repos"
    persistent: true
    cleanup_on_exit: false

  # LLM Configuration
  llm:
    provider: "localai"
    base_url: "http://localai:8080"
    model: "gpt-3.5-turbo"
    temperature: 0.7
    max_tokens: 4096
    timeout: 300

  # Planning and execution
  runtime:
    max_iterations: 50
    timeout_seconds: 3600
    enable_parallel_tools: false
    safety_checks: true

  # Tool configuration
  tools:
    filesystem:
      enabled: true
      allowed_paths:
        - "~/repos"
      restricted_paths:
        - "/"
        - "/home"
        - "/etc"
    
    git:
      enabled: true
      default_branch_prefix: "agent/"
      auto_commit: false
      commit_message_template: "Agent: {description}"
    
    github:
      enabled: true
      # Token should be set via environment variable GITHUB_TOKEN
      base_url: "https://api.github.com"
      auto_create_pr: false
      pr_title_template: "Agent: {title}"
      pr_body_template: "Automated changes by forge-agent"
    
    shell:
      enabled: true
      allowed_commands:
        - "git"
        - "npm"
        - "python"
        - "docker"
      restricted_commands:
        - "rm"
        - "sudo"
        - "chmod"
    
    system:
      enabled: true
      allowed_operations:
        - "status"
        - "info"

  # Security
  security:
    sandbox_enabled: false
    require_confirmation: false
    audit_log_path: "./workspace/audit.log"

  # Logging
  logging:
    level: "INFO"
    format: "json"
    output_path: "./workspace/logs"

